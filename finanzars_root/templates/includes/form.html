{% load form_tags widget_tweaks %}

{% if form.non_field_errors %}
<div class="alert alert-danger" role="alert">
  {% for error in form.non_field_errors %}
  <p{% if forloop.last %} class="mb-0" {% endif %}>{{ error }}</p>
    <!-- if it's the last non-field error we add mb-0 -->
    {% endfor %}
</div>
{% endif %}

{% for field in form %}
<div class="form-group">
  {{ field.label_tag }}
  <div class="input-group">
    {% render_field field class=field|input_class %}

    {% if field.name == 'cotiz_mep' %}
    <button type="button" id="obtener-mep-btn" class="btn btn-success">Obtener MEP</button>
    {% endif %}

    {% if field.name == 'precio_ars' %}
    <button type="button" id="calcular-ars-btn" class="btn btn-success">USD x MEP</button>
    {% endif %}

    {% if field.name == 'precio_usd' %}
    <button type="button" id="calcular-usd-btn" class="btn btn-success">ARS / MEP</button>
    {% endif %}

    {% if field.name == 'total_ars' %}
    <button type="button" id="calcular-total-ars-btn" class="btn btn-success">ARS x MEP</button>
    {% endif %}

    {% if field.name == 'total_usd' %}
    <button type="button" id="calcular-total-usd-btn" class="btn btn-success">ARS / MEP</button>
    {% endif %}



  </div>

  {% if field.name == 'activo' %}
  <div id="nombreActivoDiv" class="ms-3 mt-2 mb-3"></div>
  {% endif %}

  {% for error in field.errors %}
  <div class="text-danger">
    {{ error }}
  </div>
  {% endfor %}

  {% if field.help_text %}
  <small class="form-text text-muted">
    {{ field.help_text }}
  </small>
  {% endif %}
</div>
{% endfor %}